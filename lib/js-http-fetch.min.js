function asyncGeneratorStep(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){asyncGeneratorStep(s,r,o,a,i,"next",e)}function i(e){asyncGeneratorStep(s,r,o,a,i,"throw",e)}a(void 0)}))}}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).HttpFetch=t()}(this,(function(){"use strict";function e(e,n,r,o){return function(e,t,n){let r=!1,o=!1;for(let s=0;s<t.length;s+=2){const a=t[s];"function"==typeof a&&(r=!0);const i=t[s+1];e=e.then((e=>"function"==typeof a?o?a(e,e&&e.response,n):(o=!0)&&a(e.data,e.response,n):e),i)}return r?e:e.then((({data:e})=>e))}(t(Promise.resolve(o),e).then((e=>n(o=e))),r,o)}function t(e,n,r=0){return r===n.length?e:t(e.then(n[r],n[r+1]),n,r+2)}var n;function r(e){if("object"!=typeof e)return e;if(Array.isArray(e))return e.map(r);const t={};return Object.keys(e).forEach((n=>t[n]=r(e[n]))),t}function o(e,t){let n=s(t);return n="&"===n[0]?n.slice(1):n,e+(n?(e.lastIndexOf("?")>-1?"&":"?")+n:"")}function s(e,t=""){return"object"==typeof e?null!=e?Object.keys(e).reduce(((t,n)=>t+(null!=e[n]?"&"+n+"="+s(e[n]):"")),t):t:t+e}function a(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t,n,r){t.config=n,t.response=r,r?r.text().then((n=>{try{n=JSON.parse(n)}catch(e){}t.data=n,e(t)})):e(t)}function c(e){e.method&&(e.method=e.method.toUpperCase());const t=e.controller||new AbortController;e.signal=t.signal;let r=""+e.url;r.startsWith("http")||r.startsWith("//")||!e.base||(r=e.base+r);const s=e.data,c=e.params;if(null!=c&&(r=o(r,c)),null!=s)if(["Object","Array","Boolean","Number"].includes(a(s)))if(e.body=JSON.stringify(s),e.headers){if("Object"===a(e.headers))e.headers["Content-Type"]||(e.headers["Content-Type"]=n.json);else if(e.headers instanceof Headers)e.headers.has("Content-Type")||e.headers.set("Content-Type",n.json);else if(Array.isArray(e.headers)){e.headers.find((e=>"content-type"===e[0].toLowerCase()))||e.headers.push(["Content-Type",n.json])}}else e.headers={"Content-Type":n.json};else e.body=s;return new Promise((u=_asyncToGenerator((function*(n,o){try{e.timeout&&setTimeout((()=>function(e,t,n){e.abort(),i(t,new Error(`Timeout of ${n.timeout}ms exceeded`),n)}(t,o,e)),e.timeout);const a=yield fetch(r,e);if(!a.ok)return i(o,new Error("Fetch failed with status "+a.status),e,a);if(!a.body)return n({data:null,response:new Response});const c=a.body.getReader(),u={total:+(a.headers.get("Content-Length")||0),loaded:0},f=new ReadableStream({start:(s=_asyncToGenerator((function*(t){try{for(;;){const n=yield c.read(),r=n.done,o=n.value;if(r)break;t.enqueue(o),u.loaded+=o.length,e.onDownloadProgress&&e.onDownloadProgress(u)}}catch(t){return i(o,t,e)}if(t.close(),"stream"===e.responseType)return n({data:f,response:a});let r;try{if(["json","blob","text","arrayBuffer","formData"].includes(e.responseType))r=yield new Response(f)[e.responseType]();else{r=yield new Response(f).text();try{r=JSON.parse(r)}catch(e){}}}catch(t){return i(o,new Error("Response parse error"),e)}n({data:r,response:a})})),function(e){return s.apply(this,arguments)})})}catch(t){i(o,t,e)}var s})),function(e,t){return u.apply(this,arguments)}));var u}function u(t,n={}){let o;return o="string"==typeof t?t:(n=t).url,Object.keys(this.config).forEach((e=>e in n?0:n[e]=r(this.config[e]))),n.url=o,e(this.interceptors.request.handlers,c,this.interceptors.response.handlers,n)}!function(e){e.json="application/json",e.formData="multipart/form-data",e.urlencoded="application/x-www-from-urlencoded",e.text="text/plain"}(n||(n={}));const f=function e(t,n){return u.call(e,t,n)};return f.config={},f.interceptors={request:{use(e,t){return this.handlers.push(e,t)},handlers:[]},response:{use(e,t){return this.handlers.push(e,t)},handlers:[]}},f.create=function(e={}){const t=function e(t,n){return u.call(e,t,n)};return Object.keys(this).forEach((e=>{if("create"===e)return;const n=this[e];t[e]=n})),Object.keys(this.config).forEach((t=>t in e?0:e[t]=r(this.config[t]))),t.config=e,t},["post","put","patch"].forEach((e=>{f[e]=function(t,n,r={}){return r.method=e,r.data=n,u.call(this,t,r)}})),["get","delete","options","head"].forEach((e=>{f[e]=function(t,n,r={}){return r.method=e,r.params=n,u.call(this,t,r)}})),f}));
